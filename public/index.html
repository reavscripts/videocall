<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Conferenza Video - WebRTC</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>


<div id="nickname-overlay">
<img id="app-logo" src="images/logo.png" alt="Logo" />
<div class="card">
<h2>Entra nella Conferenza</h2>
<input type="text" id="room-id-input" placeholder="Nome della Stanza" required />
<input type="text" id="nickname-input" placeholder="Il tuo Nickname" required />
<div class="row">
<button id="join-button">Entra nella Conferenza</button>
</div>
</div>
</div>


<div id="conference-container" class="hidden">
<header id="room-header">
<h3>Stanza: <span id="room-name-display"></span></h3>
<div class="header-controls">
<button id="show-chat-btn" class="panel-toggle-btn">ğŸ’¬</button>
<button id="show-grid-btn" class="panel-toggle-btn">ğŸ”²</button>
<input type="button" id="share-room-link" readonly value="Ottieni Link" />
</div>
</header>


<main id="main-area">
<section id="video-area">
<div id="remote-videos-container" class="videos-grid">
<div id="remote-video-placeholder" class="video-placeholder">In attesa di altri partecipanti...</div>


<div id="main-video-feed" class="video-feed local-feed" data-peer-id="local">
<button id="main-mute-btn" class="main-mute-btn">ğŸ”Š</button>
<video id="local-video" autoplay muted playsinline></video>
<div class="video-label">Tu</div>


<div class="overlay-controls">
<button id="toggle-audio-button">ğŸ¤</button>
<button id="toggle-video-button">ğŸ“¹</button>
<button id="share-screen-button">ğŸ–¥ï¸</button>
<button id="blur-toggle">âœ¨</button>
<button id="raise-hand-btn">âœ‹</button>
</div>
</div>
</div>
</section>


<aside id="chat-panel" class="panel-column hidden">
<h3>ğŸ’¬ Chat</h3>
<div id="messages-container"></div>
<div id="chat-input-area">
<input type="text" id="chat-message-input" placeholder="Scrivi un messaggio..." />
<button id="send-chat-button">Invia</button>
</div>
</aside>
</main>


<div id="media-controls">
<button id="disconnect-button" class="danger">ğŸ“</button>
</div>
</div>


<template id="remote-video-template">
<div class="video-feed remote-feed">
<video autoplay playsinline></video>
<div class="video-label">Utente</div>
<div class="status-icons"></div>
</div>
</template>


<script src="https://cdn.socket.io/4.7.4/socket.io.min.js"></script>
</html>